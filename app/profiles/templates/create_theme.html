{% extends "layout.html" %}

{% block content %}

<div class="jumbotron">
    <h1>{{ title }}</h1>
</div>

<div class="container">
    <form action="{{ url_for('themes.validateTheme') }}" method="post" enctype="multipart/form-data">
    <div class="theme">
        <input type='text' hidden="hidden" name="number" placeholder="Тема карточки" value="{{ number }}">
     <input type='text' name="title" placeholder="Тема карточки" value="{{ title }}">
    {% if key %}
    <input type='text' name="key" hidden="hidden" placeholder="Ключ карточки" value="{{ key }}">
    {% endif %}
        <ul id="questions_list">
        {% for i in range(1, number + 1) %}
            <li id="questions_list_element{{ i }}">
            <input type="text" id="question{{ i }}" name="question{{ i }}" placeholder="Вопрос {{ i }}">
            <input type="file" id="image{{ i }}" name="image{{ i }}" placeholder="Изображение {{ i }}">
            <input type="text" id="answer{{ i }}" name="answer{{ i }}" placeholder="Ответ {{ i }}">
            </li>
        {% endfor %}
        </ul>
    </div>

        <button id="adder">Добавить вопрос</button>
        <input type="submit">
    </form>

</div>

{% endblock %}

{% block scripts %}
    <script>
function addQuestion(){
    let newQuestion;
    let amount = $('.questions').children().length + 1;
    newQuestion = document.createElement("div");
    newQuestion.className = 'question';
    newQuestion.id = amount
    newQuestion.innerHTML =
        "<form>" +
            '<input type="text" placeholder="Вопрос" name="question' +
                toString(amount)  + '">'
            '<input type="text" placeholder="Ответ" name="answer'  +
                    toString(amount) + '">' +
        "</form>";
    newQuestion.insertAfter(document.getElementById(amount - 1));
    console.log("hello ");
}

const buttonAdd = document.getElementById("adder");
buttonAdd.addEventListener('click', addQuestion)


    </script>
{% endblock %}